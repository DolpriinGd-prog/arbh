<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARBH Demon List</title>
    <style>
        :root {
            --color1: #ff4444;
            --color2: #ff6600;
        }
        body {
            font-family: Arial, sans-serif;
            background-color: #0f0f0f;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            font-size: 20px;
        }
        h1 {
            text-align: center;
            background: linear-gradient(90deg, var(--color1), var(--color2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-size: 36px;
            margin: 20px 0;
        }
        .header {
            background: linear-gradient(90deg, var(--color1), var(--color2));
            padding: 10px;
            text-align: center;
            border-bottom: 2px solid var(--color1);
            position: relative;
        }
        .header a {
            color: #000000;
            margin: 0 15px;
            text-decoration: none;
            font-size: 18px;
        }
        .header a:hover {
            text-decoration: underline;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            background-color: #1a1a1a;
        }
        th, td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #333;
        }
        th {
            background-color: #2a2a2a;
            color: #ff4444;
        }
        img {
            width: 200px;
            height: 150px;
            object-fit: cover;
            margin-right: 10px;
            vertical-align: middle;
            border-radius: 4px;
            transition: opacity 0.3s;
        }
        img:hover {
            opacity: 0.8;
        }
        tr:nth-child(even) {
            background-color: #222;
        }
        #demonlist {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        .demon {
            background-color: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 15px;
            width: 90%;
            max-width: 600px;
            display: flex;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.5);
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .demon:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 15px rgba(255, 68, 68, 0.3);
        }
        .thumbnail {
            flex-shrink: 0;
            margin-right: 20px;
        }
        .demon-content {
            text-align: center;
        }
        .thumbnail {
            margin-bottom: 10px;
        }
        .level-name {
            margin: 10px 0;
            font-size: 24px;
            text-align: center;
        }
        .level-name a {
            background: linear-gradient(90deg, var(--color1), var(--color2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            color: inherit;
            text-decoration: none;
        }
        /* Sine waves on left and right */
        .sine-wave {
            position: fixed;
            top: 0;
            bottom: 0;
            width: 200px;
            pointer-events: none;
            opacity: 0.36;
            filter: blur(6px);
            z-index: 0;
            -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
            mask-image: linear-gradient(to bottom, transparent 0%, black 15%, black 85%, transparent 100%);
        }
        .sine-left { left: 0; }
        .sine-right { right: 0; transform: scaleX(-1); }
        .sine-wave svg { width: 100%; height: 100%; display: block; }
        .sine-path { stroke-linecap: round; stroke-width: 8; fill: none; }
        .sine-wave.small { width: 140px; opacity: 0.32; filter: blur(5px); }
        .sine-mid { left: 50%; width: 140px; transform: translateX(-50%); opacity: 0.28; }
        @keyframes floatWave {
            0% { transform: translateY(-6px); }
            50% { transform: translateY(6px); }
            100% { transform: translateY(-6px); }
        }
        .sine-wave svg { animation: floatWave 6s ease-in-out infinite; }
        .demon p {
            margin: 5px 0;
            font-size: 18px;
        }
        /* Completed badge and outline */
        .level-name { position: relative; z-index: 2; }
        .level-name a { position: relative; z-index: 4; }
        .demon { position: relative; z-index: 1; }
        .completed-badge {
            position: absolute;
            right: -140px;
            top: 50%;
            transform: translateY(-50%);
            padding: 6px 10px;
            border-radius: 999px;
            font-weight: 700;
            color: #000;
            z-index: 1;
            background: linear-gradient(90deg, var(--color1), var(--color2));
            opacity: 0.95;
            box-shadow: 0 0 18px var(--color1), 0 0 28px var(--color2);
            -webkit-mask-image: linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.9));
            mask-image: linear-gradient(to bottom, rgba(0,0,0,0.6), rgba(0,0,0,0.9));
            pointer-events: none;
        }
        .completed-outline {
            box-shadow: 0 0 18px var(--color1), 0 0 36px var(--color2) !important;
            border: 1px solid rgba(255,255,255,0.02);
        }
        a {
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="index.html">Demonlist</a>
        <a href="stats.html">Stats</a>
        <a href="changelog.html">Changelog</a>
        <a href="account.html">Account</a>
        <button id="settingsBtn" style="position: absolute; right: 10px; background: none; border: none; color: #000000; font-size: 18px; cursor: pointer;">⚙️ Settings</button>
    </div>
    <!-- decorative sine waves -->
    <div class="sine-wave sine-left" aria-hidden="true">
        <svg viewBox="0 0 200 1000" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="g1" x1="0%" x2="100%">
                    <stop offset="0%" stop-color="var(--color1)" />
                    <stop offset="100%" stop-color="var(--color2)" />
                </linearGradient>
            </defs>
            <path class="sine-path" stroke="url(#g1)" d="M20,10 C60,80 60,160 20,230 C-20,300 -20,380 20,450 C60,520 60,600 20,670 C-20,740 -20,820 20,890" />
        </svg>
    </div>
    <div class="sine-wave sine-right" aria-hidden="true">
        <svg viewBox="0 0 200 1000" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="g2" x1="0%" x2="100%">
                    <stop offset="0%" stop-color="var(--color1)" />
                    <stop offset="100%" stop-color="var(--color2)" />
                </linearGradient>
            </defs>
            <path class="sine-path" stroke="url(#g2)" d="M20,10 C60,80 60,160 20,230 C-20,300 -20,380 20,450 C60,520 60,600 20,670 C-20,740 -20,820 20,890" />
        </svg>
    </div>
    <!-- extra left wave -->
    <div class="sine-wave sine-left small" aria-hidden="true">
        <svg viewBox="0 0 200 1000" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="g3" x1="0%" x2="100%">
                    <stop offset="0%" stop-color="var(--color1)" />
                    <stop offset="100%" stop-color="var(--color2)" />
                </linearGradient>
            </defs>
            <path class="sine-path" stroke="url(#g3)" d="M40,20 C80,100 80,200 40,300 C0,400 0,500 40,600 C80,700 80,800 40,900" />
        </svg>
    </div>
    <!-- extra right wave -->
    <div class="sine-wave sine-right small" aria-hidden="true">
        <svg viewBox="0 0 200 1000" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="g4" x1="0%" x2="100%">
                    <stop offset="0%" stop-color="var(--color1)" />
                    <stop offset="100%" stop-color="var(--color2)" />
                </linearGradient>
            </defs>
            <path class="sine-path" stroke="url(#g4)" d="M40,20 C80,100 80,200 40,300 C0,400 0,500 40,600 C80,700 80,800 40,900" />
        </svg>
    </div>
    <!-- centered subtle wave -->
    <div class="sine-wave sine-mid" aria-hidden="true">
        <svg viewBox="0 0 140 1000" preserveAspectRatio="none" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <linearGradient id="g5" x1="0%" x2="100%">
                    <stop offset="0%" stop-color="var(--color1)" />
                    <stop offset="100%" stop-color="var(--color2)" />
                </linearGradient>
            </defs>
            <path class="sine-path" stroke="url(#g5)" d="M20,10 C50,80 50,160 20,230 C-10,300 -10,380 20,450 C50,520 50,600 20,670" />
        </svg>
    </div>
    <h1>ARBH Demon List</h1>
    <div id="settings" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #1a1a1a; padding: 20px; border: 1px solid #333; z-index: 1000;">
        <h3>Change Colors</h3>
        <label>Color 1: <input type="color" id="color1" value="#ff4444"></label><br>
        <label>Color 2: <input type="color" id="color2" value="#ff6600"></label><br>
        <button id="apply">Apply</button>
        <button id="close">Close</button>
    </div>
    <div id="demonlist">
        <!-- Levels will be loaded here -->
    </div>
    <footer style="text-align: center; padding: 10px; background: linear-gradient(90deg, #2a2a2a, #3a3a3a); color: var(--color1); margin-top: 20px;">
        ARBH Demon List - Powered by ARBH / Dolpriin and VinniboyGD
    </footer>

    <script>
        // Default levels
        let levels = JSON.parse(localStorage.getItem('levels')) || [
            {
                rank: 1,
                name: 'Oblivion',
                creator: 'Dice88',
                verified: 'VinniboyGD',
                listPercent: '72%',
                points: 300,
                thumbnail: 'https://img.youtube.com/vi/kvvI-Az3vZ8/0.jpg',
                video: 'https://youtu.be/kvvI-Az3vZ8?si=7RRC1_LvLVDIDPLc',
                page: 'oblivion.html'
            },
            {
                rank: 2,
                name: 'The Golden',
                creator: 'BoBoBoBoBoBoBo',
                verified: 'Dolpriin',
                listPercent: '72%',
                points: 270,
                thumbnail: 'https://img.youtube.com/vi/W5tXXPYmW7k/0.jpg',
                video: 'https://youtu.be/W5tXXPYmW7k?si=nYgXqF3KdmZckrF7',
                page: 'thegolden.html'
            },
            {
                rank: 3,
                name: 'Unknown',
                creator: 'NineDice',
                verified: 'zMeowtain',
                listPercent: '83%',
                points: 240,
                thumbnail: 'https://img.youtube.com/vi/Wy8j_GlK3hg/0.jpg',
                video: 'https://youtu.be/Wy8j_GlK3hg?si=zZK9Iynk71ZEeICi',
                page: 'unknown.html'
            },
            {
                rank: 4,
                name: 'Zodiac',
                creator: 'BIANOX',
                verified: 'Dolpriin',
                listPercent: '67%',
                points: 210,
                thumbnail: 'https://img.youtube.com/vi/GoniVU8XNWU/0.jpg',
                video: 'https://youtu.be/GoniVU8XNWU?si=5V7kAsa2yEf2c6ai',
                page: 'zodiac.html'
            }
        ];

        // Ensure Zodiac is included if not present
        const hasZodiac = levels.some(lvl => lvl.name === 'Zodiac');
        if (!hasZodiac) {
            levels.push({
                rank: 4,
                name: 'Zodiac',
                creator: 'BIANOX',
                verified: 'Dolpriin',
                listPercent: '67%',
                points: 210,
                thumbnail: 'https://img.youtube.com/vi/GoniVU8XNWU/0.jpg',
                video: 'https://youtu.be/GoniVU8XNWU?si=5V7kAsa2yEf2c6ai',
                page: 'zodiac.html'
            });
        }
        // Ensure Crackhead Circles is included if not present
        const hasCrackhead = levels.some(lvl => lvl.name === 'Crackhead Circles');
        if (!hasCrackhead) {
            levels.push({
                rank: 5,
                name: 'Crackhead Circles',
                creator: 'AlrexX',
                verified: 'GDBlackmountain',
                listPercent: '67%',
                points: 180,
                thumbnail: 'https://img.youtube.com/vi/t2-vmN6OxvU/0.jpg',
                video: 'https://youtu.be/t2-vmN6OxvU?si=KWODB8gwmeu9pzO9',
                page: 'crackheadcircles.html'
            });
        }
        levels.sort((a, b) => a.rank - b.rank);
        // compute points using mirrored exponential: f(1)=400, f(m)=1
        function computePoints(rank) {
            const m = (Array.isArray(levels) ? levels.length : 1) || 1;
            const top = 400;
            if (m <= 1) return top;
            const k = Math.log(top) / (m - 1);
            const val = top * Math.exp(-k * (rank - 1));
            return Math.round(val * 100) / 100;
        }
        levels = levels.map(l => ({ ...l, points: computePoints(l.rank) }));
        localStorage.setItem('levels', JSON.stringify(levels));

        // Render levels
        function renderLevels() {
            const container = document.getElementById('demonlist');
            container.innerHTML = '';
            // helper to extract YouTube ID
            function extractYouTubeID(url) {
                if (!url) return null;
                try {
                    const u = new URL(url);
                    if (u.hostname === 'youtu.be') return u.pathname.slice(1);
                    if (u.searchParams && u.searchParams.get('v')) return u.searchParams.get('v');
                    // sometimes the id is the last path segment
                    const seg = u.pathname.split('/').pop();
                    return seg && seg.length === 11 ? seg : null;
                } catch (e) {
                    const m = url.match(/(?:v=|youtu\.be\/|v\/|embed\/)([A-Za-z0-9_-]{11})/);
                    return m ? m[1] : null;
                }
            }

            // Fallback placeholder image
            const PLACEHOLDER_THUMB = 'https://via.placeholder.com/200x150?text=No+Thumbnail';

            // Robust render that handles broken thumbnails
            levels.forEach(level => {
                // ensure thumbnail exists; generate from video if missing
                if (!level.thumbnail && level.video) {
                    const id = extractYouTubeID(level.video);
                    if (id) level.thumbnail = `https://img.youtube.com/vi/${id}/0.jpg`;
                }

                const demon = document.createElement('div');
                demon.className = 'demon';

                const thumbDiv = document.createElement('div');
                thumbDiv.className = 'thumbnail';

                const link = document.createElement('a');
                link.href = level.video || '#';
                link.target = '_blank';

                const img = document.createElement('img');
                img.alt = `${level.name} thumbnail`;
                img.src = level.thumbnail || '';
                img.onerror = function() {
                    // try to generate from video id
                    if (level.video) {
                        const id = extractYouTubeID(level.video);
                        if (id) {
                            this.onerror = null; // avoid loop
                            this.src = `https://img.youtube.com/vi/${id}/0.jpg`;
                            return;
                        }
                    }
                    // final fallback
                    this.onerror = null;
                    this.src = PLACEHOLDER_THUMB;
                };

                link.appendChild(img);
                thumbDiv.appendChild(link);

                const content = document.createElement('div');
                content.className = 'demon-content';

                const title = document.createElement('h3');
                title.className = 'level-name';
                const titleLink = document.createElement('a');
                titleLink.href = level.page || '#';
                titleLink.target = '_blank';
                titleLink.rel = 'noopener noreferrer';
                titleLink.textContent = `#${level.rank} ${level.name}`;
                title.appendChild(titleLink);

                    const creatorP = document.createElement('p');
                    creatorP.innerHTML = `<strong>Creator:</strong> ${level.creator}`;
                const verP = document.createElement('p');
                verP.innerHTML = `<strong>Verified:</strong> ${level.verified}`;
                    
                    // show completion badge if current user completed this level
                    const currentUser = localStorage.getItem('currentUser');
                    const completions = JSON.parse(localStorage.getItem('completions')) || [];
                    const userCompleted = currentUser && completions.some(c => c.player === currentUser && c.level === level.name);
                    if (userCompleted) {
                        // add badge behind the name and outline glow on card
                        const badge = document.createElement('span');
                        badge.className = 'completed-badge';
                        badge.textContent = '100%';
                        title.appendChild(badge);
                        demon.classList.add('completed-outline');
                    }
                const pointsP = document.createElement('p');
                const ptsDisplay = (Number.isInteger(level.points)) ? level.points : level.points.toFixed(2);
                pointsP.innerHTML = `<strong>Points:</strong> ${ptsDisplay}`;

                content.appendChild(title);
                // show list percent under the level name for top 75
                if (level.rank <= 75 && level.listPercent) {
                    const listUnder = document.createElement('p');
                    listUnder.innerHTML = `<strong>List %:</strong> ${level.listPercent}`;
                    content.appendChild(listUnder);
                }
                content.appendChild(creatorP);
                content.appendChild(verP);
                content.appendChild(pointsP);

                demon.appendChild(thumbDiv);
                demon.appendChild(content);
                container.appendChild(demon);
            });
        }

        renderLevels();

        // Settings
        document.getElementById('settingsBtn').addEventListener('click', () => {
            document.getElementById('settings').style.display = 'block';
        });
        document.getElementById('close').addEventListener('click', () => {
            document.getElementById('settings').style.display = 'none';
        });
        document.getElementById('apply').addEventListener('click', () => {
            const c1 = document.getElementById('color1').value;
            const c2 = document.getElementById('color2').value;
            document.documentElement.style.setProperty('--color1', c1);
            document.documentElement.style.setProperty('--color2', c2);
            localStorage.setItem('color1', c1);
            localStorage.setItem('color2', c2);
            document.getElementById('settings').style.display = 'none';
        });

        // Load saved colors
        const savedColor1 = localStorage.getItem('color1');
        const savedColor2 = localStorage.getItem('color2');
        if (savedColor1) {
            document.documentElement.style.setProperty('--color1', savedColor1);
            document.getElementById('color1').value = savedColor1;
        }
        if (savedColor2) {
            document.documentElement.style.setProperty('--color2', savedColor2);
            document.getElementById('color2').value = savedColor2;
        }
    </script>
</body>
</html></content>
<parameter name="filePath">c:\Users\reald\Desktop\arbh demonlist\index.html
